--------------------------------------------------------------------;
-- DOWN
--------------------------------------------------------------------;

-- drop table art46.screening_juridisch_cluster_type;

drop table art46.instrument_type;

drop table art46.verontreinig_activiteit_type;

drop table art46.screening_stofgroep_code;

drop table art46.screening_prioriteit_waarde;

drop table art46.screening_prioriteit_criterium_code;

drop table art46.screening_medium_code;

delete from  art46.db_versie
where db_versie = '5.28.b';

--------------------------------------------------------------------;
-- UP
--------------------------------------------------------------------;

create table art46.screening_medium_code
(
    medium_code varchar(5) not null,
    medium_b varchar(25),
    primary key (medium_code)
);

create table art46.screening_prioriteit_criterium_code
(
    criterium_code varchar(2) not null,
    criterium_b varchar(25) not null,
    gewicht int not null,
    primary key (criterium_code),
    constraint cc_gewicht check( gewicht >= 0 and gewicht <= 100)
);


create table art46.screening_prioriteit_waarde
(
    waarde_id int not null generated by default as identity (START WITH 1),
    criterium_code varchar(2) not null,
    bbo_beschikbaar_jn char(1),
    waarde_b varchar(50) not null,
    score int not null,
    primary key (waarde_id),
    foreign key fk_scrpri_criterium (criterium_code)
         references art46.screening_prioriteit_criterium_code (criterium_code)
         on delete restrict,
    foreign key fk_scrpri_bbo_beschikbaar_jn (bbo_beschikbaar_jn)
         references art46.ja_nee_code (code)
         on delete restrict,
    constraint cc_score check( score >= 0 and score <= 10)
);

create table art46.screening_stofgroep_code
(
    stofgroep_code varchar(25) not null,
    primary key (stofgroep_code)
);


create table art46.verontreinig_activiteit_type
(
    activiteit_type_id int not null generated by default as identity (START WITH 1),
    activiteit_type_b varchar(50) not null,
    primary key (activiteit_type_id)
);

create table art46.instrument_type
(
    instrument_type_id int not null generated by default as identity (START WITH 1),
    instrument_type_b varchar(60) not null,
    primary key (instrument_type_id)
)
;

-- create table art46.screening_juridisch_cluster_type
-- (
--     juridisch_cluster_type_id  int not null generated by default as identity (START WITH 1),
--     juridisch_cluster_type_b  varchar(50) not null,
--     primary key (juridisch_cluster_type_id)
-- )
-- ;

--------------------------------------------------------------------;

insert into art46.screening_medium_code
(medium_code, medium_b)
values
('GW', 'Grondwater'),
('VDA', 'Vaste deel aarde'),
('DRFL', 'Drijflaag'),
('ZKL', 'Zinklaag'),
('ANDER', 'Ander medium')
;

insert into art46.screening_prioriteit_criterium_code
(criterium_code, criterium_b, gewicht)
values
('A', 'Actueel risico', 35),
('B', 'Beleidsmatige prioriteit', 25),
('I', 'Integratie', 25),
('P', 'Potentieel risico', 15)
;

insert into art46.screening_prioriteit_waarde
(criterium_code, bbo_beschikbaar_jn, waarde_b, score)
values
('A', 'N', 'Geen BBO, risico gekend', 10),
('A', 'N', 'Geen BBO, risico ongekend', 5),
('A', 'N', 'Geen BBO, geen risico', 0),
('A', 'J', 'BBO, humaan en verspreidingsrisico', 10),
('A', 'J', 'BBO, enkel humaan risico', 8),
('A', 'J', 'BBO, enkel verspreidingsrisico', 6),
('A', 'J', 'BBO, ecologisch risico', 4),
('A', 'J', 'BBO, andere risico s', 2),
('B', null, 'Juridisch: Verjaringstermijn nadert', 4),
('B', null, 'Economisch: Creatie ruimte bedrijfsterrein', 8),
('B', null, 'Economisch: Creatie werkgelegenheid', 8),
('B', null, 'Maatschappelijk: Prioritaire aanpak scholen', 7),
('B', null, 'Maatschappelijk: Gasfabrieken', 7),
('B', null, 'Maatschappelijk: andere prioritaire doelgroepen', 7),
('B', null, 'Publieke opinie: Klachten', 6),
('B', null, 'Publieke opinie: Geuroverlast', 6),
('B', null, 'Publieke opinie: Journalistieke interesse', 4),
('B', null, 'Veiligheid Gezondheid: Overstromingsgevaar', 7),
('B', null, 'Veiligheid Gezondheid: Waterwingebieden', 10),
('B', null, 'geen', 0),
('I', null, '> 1.000.000 EUR', 10),
('I', null, '< 1.000.000 EUR', 8),
('I', null, '< 500.000 EUR', 6),
('I', null, '< 100.000 EUR', 4),
('I', null, '< 50.000 EUR', 2),
('I', null, 'Geen integratie mogelijk', 0),
('P', 'N', 'Geen BBO, risico gekend', 10),
('P', 'N', 'Geen BBO, risico ongekend', 5),
('P', 'N', 'Geen BBO, geen risico', 0),
('P', 'J', 'BBO, humaan en verspreidingsrisico', 10),
('P', 'J', 'BBO, enkel humaan risico', 8),
('P', 'J', 'BBO, enkel verspreidingsrisico', 6),
('P', 'J', 'BBO, ecologisch risico', 4),
('P', 'J', 'BBO, andere risico s', 2)
;

insert into art46.screening_stofgroep_code
(stofgroep_code)
values
('Andere'),
('Asbest'),
('BTEX'),
('Cyaniden'),
('Fenolen'),
('Stortmateriaal'),
('Minerale olie'),
('MTBE'),
('PAK'),
('Pesticiden'),
('Trimethylbenzenen'),
('VOCL'),
('Zware metalen'),
('Teer')
;

insert into art46.verontreinig_activiteit_type
(activiteit_type_b)
values
('Andere'),
('Droogkuis/textielbedrijf'),
('Garagewerkplaats'),
('Gasfabriek'),
('Haarsnijderij'),
('Leerlooierij'),
('Metaalbewerking'),
('Meubelbedrijven'),
('Ophooglaag'),
('Opslag'),
('Papier, inkt en drukkerij'),
('Stookolietank'),
('Stortplaats'),
('Tankstation'),
('Textiel'),
('Verfproductie'),
('Waterbodems'),
('Zinkassen')
;



insert into art46.instrument_type
(instrument_type_b)
values
('ambtshalve préfinanciering '),
('aftoppen saneringskost'),
('draagkrachtregeling: marktlening met staatswaarborg'),
('draagkrachtregeling: BBF-lening (terugvalscenario)'),
('cofinanciering'),
('sectorfondsen (BOFAS,…)'),
('schadegevallen'),
('BSOK/ketendossiers'),
('brownfieldconvenanten'),
('brownfieldprojecten'),
('raamcontracten/ samenkoop'),
('50% FZ verwerver'),
('afkoopregeling'),
('protocol curatoren/ aankoop terreinen'),
('andere convenanten'),
('protocol scholen')
;

-- insert into art46.screening_juridisch_cluster_type
-- (juridisch_cluster_type_b)
-- values
-- ('vermengde verontreiniging'),
-- ('gedeeltelijke onschuld'),
-- ('onschuld'),
-- ('in gebreke'),
-- ('in gebreke faillissement'),
-- ('art. 164'),
-- ('sitebesluiten'),
-- ('eigen terrein')
-- ;


-- deze versie van de wijzigingen in db registreren.
insert into art46.db_versie(db_versie) values ('5.28.b');
